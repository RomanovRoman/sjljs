<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: sjl-nodejs/Namespace.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: sjl-nodejs/Namespace.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Created by Ely on 5/22/2015.
 * File: Namespace.js
 * Description: Mimicks namespaces/packages in languages like Java and Actionscript.
 */

var path = require('path'),
    fs = require('fs');

function Namespace(dir, allowedFileExts) {
    if (this instanceof Namespace === false) {
        return new Namespace(dir, allowedFileExts);
    }
    var self = this,
        files = fs.readdirSync(dir);
    allowedFileExts = allowedFileExts || ['.js', '.json'];
    if (files &amp;&amp; Array.isArray(files) &amp;&amp; files.length > 0) {
        processFiles(files, dir, allowedFileExts, self);
    }
}

function processFiles(files, dir, allowedFileExts, self) {
    files.forEach(function (file) {
        if (fs.statSync(path.join(dir, file)).isDirectory()) {
            self[file] = Namespace(path.join(dir, file));
        }
        else if (allowedFileExts.indexOf(path.extname(file)) > -1) {
            Object.defineProperty(self, file.substr(0, file.lastIndexOf('.')), {
                get: function () {
                    return require(path.join(dir, file))
                },
                set: function () {}
            });
        }
        else {
            throw new Error('The file representing the requested alias "' + file + '" is not of ' +
                'the allowed type(s): "[' + (allowedFileExts.join('", "')) + ']');
        }
    });
}

module.exports = Namespace;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="sjl.package.stdlib.Attributable.html">Attributable</a></li><li><a href="sjl.package.stdlib.html#Extendable">Extendable</a></li><li><a href="sjl.package.stdlib.Iterator.html">Iterator</a></li><li><a href="sjl.package.stdlib.ObjectIterator.html">ObjectIterator</a></li><li><a href="sjl.package.stdlib.Optionable.html">Optionable</a></li><li><a href="sjl.SjlSet.html">SjlSet</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a> on Mon Nov 02 2015 21:52:00 GMT-0500 (EST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
